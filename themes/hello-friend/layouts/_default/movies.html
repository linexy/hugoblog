{{ define "main" }}

<div id="content" class="content-area">
  <div id="controls" style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <button onclick="switchContent('movies')" class="toggle-button">我的电影</button>
      <button onclick="switchContent('books')" class="toggle-button">我的书籍</button>
    </div>
    <div id="filters" class="filters">
      <div id="yearFilter" class="filter-section">
        <span>年份：</span>
        <a href="javascript:void(0);" class="filter-link" data-filter="all" onclick="filterContent('year', 'all')">全部</a>
        <!-- Add more year filter links -->
      </div>
      <div id="ratingFilter" class="filter-section">
        <span>评分：</span>
        <a href="javascript:void(0);" class="filter-link" data-filter="all" onclick="filterContent('rating', 'all')">全部</a>
        <!-- Add more rating filter links -->
      </div>
    </div>
  </div>

  <!-- Movie Content -->
  <div id="moviesContent" class="media-content">
    <div class="content-header">我的观影</div>
    <!-- Movie items go here -->
  </div>

  <!-- Book Content -->
  <div id="booksContent" class="media-content hide">
    <div class="content-header">我的书籍</div>
    <!-- Book items go here -->
  </div>
</div>

<script>
  function switchContent(section) {
    document.getElementById('moviesContent').classList.add('hide');
    document.getElementById('booksContent').classList.add('hide');
    if (section === 'movies') {
      document.getElementById('moviesContent').classList.remove('hide');
    } else if (section === 'books') {
      document.getElementById('booksContent').classList.remove('hide');
    }
    resetFilters(); // Reset filters when switching sections
  }

  function filterContent(type, value) {
    const content = document.querySelector('.media-content:not(.hide)');
    const items = content.querySelectorAll('.media-item'); // Assumes each item has a class 'media-item'
    items.forEach(item => {
      if (value === 'all') {
        item.style.display = 'block';
      } else if (item.getAttribute(`data-${type}`) === value) {
        item.style.display = 'block';
      } else {
        item.style.display = 'none';
      }
    });
  }

  function resetFilters() {
    const links = document.querySelectorAll('.filter-link');
    links.forEach(link => link.classList.remove('active'));
    links[0].classList.add('active'); // Assuming the first link is 'all'
    filterContent('year', 'all');
    filterContent('rating', 'all');
  }
</script>

<style>
  .toggle-button {
    margin-right: 10px;
    padding: 5px 10px;
    cursor: pointer;
  }

  .filters {
    display: flex;
    gap: 20px;
  }

  .filter-section {
    display: flex;
    gap: 5px;
  }

  .filter-link {
    text-decoration: none;
    color: #333;
  }

  .filter-link.active {
    font-weight: bold;
    color: #000;
  }

  .media-content {
    margin-top: 20px;
  }

  .hide {
    display: none;
  }
</style>

{{ end }}

{{ define "footer" }}
<script type="text/javascript" src="/theme-main-1.js"></script>
{{ end }}
